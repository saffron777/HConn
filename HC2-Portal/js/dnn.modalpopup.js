(function (a, b) { dnnModal = { load: function () { try { if (parent.location.href !== undefined) { var g = parent; var f = g.parent; if (typeof (f.$find) != "undefined") { if (location.href.indexOf("popUp") == -1 || g.location.href.indexOf("popUp") > -1) { var c = g.jQuery("#iPopUp"); var d = c.dialog("option", "refresh"); var h = c.dialog("option", "closingUrl"); if (h == "") { h = location.href } if (c.dialog("isOpen") === true) { c.dialog("option", { close: function (i, j) { dnnModal.closePopUp(d, h) } }).dialog("close") } } else { g.jQuery("#iPopUp").dialog({ title: document.title }) } } } } catch (e) { return false } }, show: function (c, n, k, e, g, j) { var i = b("#iPopUp"); if (i.length == 0) { i = b('<iframe id="iPopUp" src="about:blank" scrolling="auto" frameborder="0"></iframe>'); b(document).find("html").css("overflow", "hidden"); b(document).append(i) } var l = parent; i.dialog({ modal: true, autoOpen: true, dialogClass: "dnnFormPopup", position: "center", minWidth: e, minHeight: k, maxWidth: 1920, maxHeight: 1080, resizable: true, closeOnEscape: true, zIndex: 100000, refresh: g, closingUrl: j, close: function (o, p) { dnnModal.closePopUp(g, j) } }).width(e - 11).height(k - 11); if (b(".ui-dialog-title").next("a.dnnModalCtrl").length === 0) { var d = b('<a class="dnnModalCtrl"></a>'); b("a.ui-dialog-titlebar-close").wrap(d); var h = b('<a href="#" class="dnnToggleMax"><span>Max</span></a>'); b("a.ui-dialog-titlebar-close").before(h); h.click(function (s) { s.preventDefault(); var t = b(a), r = b(this), o, q, p; if (i.data("isMaximized")) { o = i.data("height"); q = i.data("width"); p = i.data("position"); i.data("isMaximized", false) } else { i.data("height", i.dialog("option", "minHeight")).data("width", i.dialog("option", "minWidth")).data("position", i.dialog("option", "position")); o = t.height() - 46; q = t.width() - 40; p = [0, 0]; i.data("isMaximized", true) } i.dialog({ height: o, width: q }); i.dialog({ position: "center" }) }) } var f = function () { var o = b('<div class="dnnLoading"></div>'); o.css({ width: i.width(), height: i.height() }); i.before(o) }; var m = function () { i.prev(".dnnLoading").remove() }; f(); i[0].src = c; i.bind("load", function () { m() }); if (n.toString() == "true") { return false } }, closePopUp: function (e, d) { var f = parent; var c = f.jQuery("#iPopUp"); if (typeof e === "undefined") { e = true } if ((typeof d === "undefined") || (d == "")) { d = f.location } if (e.toString() == "true") { f.location.href = d; c.hide() } else { c.remove() } b(f.document).find("html").css("overflow", "") } }; dnnModal.load() }(window, jQuery));